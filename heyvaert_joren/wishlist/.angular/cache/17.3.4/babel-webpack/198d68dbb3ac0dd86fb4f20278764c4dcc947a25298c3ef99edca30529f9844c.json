{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./item-detail.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./item-detail.component.css?ngResource\";\nimport { Component } from '@angular/core';\nimport { item } from '../item.model';\nimport { ItemService } from '../item.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { CommonModule, DatePipe } from '@angular/common';\nimport { BedragService } from '../../bedrag/bedrag.service';\nimport { AuthService } from '../../auth/auth.service';\nlet ItemDetailComponent = class ItemDetailComponent {\n  constructor(itemService, route, router, bedragService, auth) {\n    this.itemService = itemService;\n    this.route = route;\n    this.router = router;\n    this.bedragService = bedragService;\n    this.auth = auth;\n    this.item = new item();\n    this.myDate = new Date();\n    this.showKoopButton = true;\n    this.saved = false;\n  }\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      this.onLoadItem(params['id']); //  ! is om id niet 0 mag zijn.\n    });\n    this.route.data.subscribe(data => {\n      this.showKoopButton = data['showKoopButton'];\n    });\n  }\n  onLoadItem(id) {\n    this.itemService.getItem(id).subscribe({\n      next: response => {\n        if (response) {\n          this.item = response;\n          this.item.id = id;\n        }\n      },\n      error: error => console.log('error: ', error)\n    });\n  }\n  koop() {\n    const nieuwbedrag = {\n      bedrag: Number(this.item.prijs),\n      teken: '-',\n      datum: new Date(this.myDate),\n      uid: this.auth.getUid() ?? ''\n    };\n    this.bedragService.addBedrag(nieuwbedrag).subscribe({\n      next: () => {},\n      error: error => {\n        console.error('Error: ', error);\n      }\n    });\n    this.item.toegevoegOp = this.getDate(this.item.toegevoegOp);\n    this.itemService.deleteItem(this.item).subscribe(response => {\n      this.router.navigate(['items']);\n    });\n  }\n  getDate(dateField) {\n    if (dateField && dateField.toDate) {\n      return dateField.toDate();\n    }\n    return new Date(dateField);\n  }\n  static #_ = this.ctorParameters = () => [{\n    type: ItemService\n  }, {\n    type: ActivatedRoute\n  }, {\n    type: Router\n  }, {\n    type: BedragService\n  }, {\n    type: AuthService\n  }];\n};\nItemDetailComponent = __decorate([Component({\n  selector: 'app-item-detail',\n  standalone: true,\n  imports: [CommonModule],\n  template: __NG_CLI_RESOURCE__0,\n  providers: [DatePipe],\n  styles: [__NG_CLI_RESOURCE__1]\n})], ItemDetailComponent);\nexport { ItemDetailComponent };","map":{"version":3,"names":["Component","item","ItemService","ActivatedRoute","Router","CommonModule","DatePipe","BedragService","AuthService","ItemDetailComponent","constructor","itemService","route","router","bedragService","auth","myDate","Date","showKoopButton","saved","ngOnInit","params","subscribe","onLoadItem","data","id","getItem","next","response","error","console","log","koop","nieuwbedrag","bedrag","Number","prijs","teken","datum","uid","getUid","addBedrag","toegevoegOp","getDate","deleteItem","navigate","dateField","toDate","_","__decorate","selector","standalone","imports","template","__NG_CLI_RESOURCE__0","providers"],"sources":["C:\\Users\\HEYVA\\OneDrive - Thomas More\\Documenten\\School\\School jaar 2024 - 2025\\Web development\\Labo\\Eigen\\Project\\Wish-List-2.0\\wishlist\\src\\app\\item-component\\item-detail\\item-detail.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { item } from '../item.model';\r\nimport { ItemService } from '../item.service';\r\nimport { ActivatedRoute, Params, Router, Data } from '@angular/router';\r\nimport { CommonModule, DatePipe } from '@angular/common';\r\nimport { BedragService } from '../../bedrag/bedrag.service';\r\nimport { AuthService } from '../../auth/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-item-detail',\r\n  standalone: true,\r\n  imports: [CommonModule],\r\n  templateUrl: './item-detail.component.html',\r\n  styleUrl: './item-detail.component.css',\r\n  providers: [DatePipe]\r\n})\r\nexport class ItemDetailComponent implements OnInit  {\r\n  item: item = new item();\r\n  myDate = new Date();\r\n  showKoopButton: boolean = true;\r\n  saved: boolean = false;\r\n\r\n  constructor(private itemService: ItemService, private route: ActivatedRoute, private router: Router, private bedragService: BedragService,\r\n    private auth: AuthService ) {}\r\n\r\n  ngOnInit(){\r\n    this.route.params.subscribe((params: Params) => {\r\n      this.onLoadItem(params['id']!); //  ! is om id niet 0 mag zijn.\r\n    });\r\n\r\n    this.route.data.subscribe((data: Data) => {\r\n      this.showKoopButton = data['showKoopButton'];\r\n    });\r\n  }\r\n\r\n  onLoadItem(id: string): void {\r\n    this.itemService.getItem(id).subscribe({\r\n     next: (response: item | undefined) => {\r\n      if (response) {\r\n        this.item = response;\r\n        this.item.id = id;\r\n      }\r\n      },\r\n      error: (error) => console.log('error: ', error)\r\n  });\r\n  }\r\n\r\n  koop(){  \r\n    \r\n    const nieuwbedrag = {\r\n      bedrag: Number(this.item.prijs),\r\n      teken: '-',\r\n      datum: new Date (this.myDate),\r\n      uid: this.auth.getUid() ?? '',\r\n    }\r\n      \r\n    this.bedragService.addBedrag(nieuwbedrag).subscribe({\r\n      next: () => {\r\n             \r\n      },\r\n      error: (error) => {\r\n        console.error('Error: ', error);\r\n      }\r\n    });\r\n\r\n      this.item.toegevoegOp = this.getDate(this.item.toegevoegOp);\r\n\r\n    this.itemService.deleteItem(this.item!).subscribe(\r\n      (response: any) => {\r\n        this.router.navigate(['items']);\r\n    }\r\n    );\r\n  }\r\n\r\n\r\n  private getDate(dateField: any): Date {\r\n    if (dateField && dateField.toDate) {\r\n      return dateField.toDate();\r\n    }\r\n    return new Date(dateField);\r\n  }\r\n\r\n\r\n\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./item-detail.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./item-detail.component.css?ngResource\";\nimport { Component } from '@angular/core';\nimport { item } from '../item.model';\nimport { ItemService } from '../item.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { CommonModule, DatePipe } from '@angular/common';\nimport { BedragService } from '../../bedrag/bedrag.service';\nlet ItemDetailComponent = class ItemDetailComponent {\n  constructor(itemService, route, router, bedragService, datePipe) {\n    this.itemService = itemService;\n    this.route = route;\n    this.router = router;\n    this.bedragService = bedragService;\n    this.datePipe = datePipe;\n    this.item = new item();\n    this.myDate = new Date();\n    this.showKoopButton = true;\n    this.saved = false;\n  }\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      this.onLoadItem(params['id']); //  ! is om id niet 0 mag zijn.\n    });\n    this.route.data.subscribe(data => {\n      this.showKoopButton = data['showKoopButton'];\n    });\n  }\n  onLoadItem(id) {\n    this.itemService.getItem(id).subscribe({\n      next: response => {\n        if (response) {\n          this.item = response;\n        }\n      },\n      error: error => console.log('error: ', error)\n    });\n  }\n  koop() {\n    const formattedDatum = this.datePipe.transform(this.myDate, 'dd-MM-yyyy') || '';\n    const nieuwbedrag = {\n      bedrag: this.item.prijs,\n      teken: '-',\n      datum: formattedDatum\n    };\n    this.bedragService.addBedrag(nieuwbedrag).subscribe({\n      next: () => {},\n      error: error => {\n        console.error('Error: ', error);\n      }\n    });\n    this.itemService.deleteItem(this.item).subscribe(response => {\n      this.router.navigate(['items']);\n    });\n  }\n  static #_ = this.ctorParameters = () => [{\n    type: ItemService\n  }, {\n    type: ActivatedRoute\n  }, {\n    type: Router\n  }, {\n    type: BedragService\n  }, {\n    type: DatePipe\n  }];\n};\nItemDetailComponent = __decorate([Component({\n  selector: 'app-item-detail',\n  standalone: true,\n  imports: [CommonModule],\n  template: __NG_CLI_RESOURCE__0,\n  providers: [DatePipe],\n  styles: [__NG_CLI_RESOURCE__1]\n})], ItemDetailComponent);\nexport { ItemDetailComponent };","map":{"version":3,"names":["Component","item","ItemService","ActivatedRoute","Router","CommonModule","DatePipe","BedragService","ItemDetailComponent","constructor","itemService","route","router","bedragService","datePipe","myDate","Date","showKoopButton","saved","ngOnInit","params","subscribe","onLoadItem","data","id","getItem","next","response","error","console","log","koop","formattedDatum","transform","nieuwbedrag","bedrag","prijs","teken","datum","addBedrag","deleteItem","navigate","_","__decorate","selector","standalone","imports","template","__NG_CLI_RESOURCE__0","providers"],"sources":["C:\\Users\\HEYVA\\OneDrive - Thomas More\\Documenten\\School\\School jaar 2024 - 2025\\Web development\\Labo\\Eigen\\Project\\Wish-List-2.0\\wishlist\\src\\app\\item-component\\item-detail\\item-detail.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { item } from '../item.model';\r\nimport { ItemService } from '../item.service';\r\nimport { ActivatedRoute, Params, Router, Data } from '@angular/router';\r\nimport { CommonModule, DatePipe } from '@angular/common';\r\nimport { BedragService } from '../../bedrag/bedrag.service';\r\n\r\n@Component({\r\n  selector: 'app-item-detail',\r\n  standalone: true,\r\n  imports: [CommonModule],\r\n  templateUrl: './item-detail.component.html',\r\n  styleUrl: './item-detail.component.css',\r\n  providers: [DatePipe]\r\n})\r\nexport class ItemDetailComponent implements OnInit  {\r\n  item: item = new item();\r\n  myDate = new Date();\r\n  showKoopButton: boolean = true;\r\n  saved: boolean = false;\r\n\r\n  constructor(private itemService: ItemService, private route: ActivatedRoute, private router: Router, private bedragService: BedragService, private datePipe: DatePipe ) {}\r\n\r\n  ngOnInit(){\r\n    this.route.params.subscribe((params: Params) => {\r\n      this.onLoadItem(params['id']!); //  ! is om id niet 0 mag zijn.\r\n    });\r\n\r\n    this.route.data.subscribe((data: Data) => {\r\n      this.showKoopButton = data['showKoopButton'];\r\n    });\r\n  }\r\n\r\n  onLoadItem(id: string): void {\r\n    this.itemService.getItem(id).subscribe({\r\n     next: (response: item | undefined) => {\r\n      if (response) {\r\n        this.item = response;\r\n      }\r\n      },\r\n      error: (error) => console.log('error: ', error)\r\n  });\r\n  }\r\n\r\n  koop(){  \r\n    \r\n    const formattedDatum: string = this.datePipe.transform(this.myDate, 'dd-MM-yyyy') || '';\r\n\r\n    const nieuwbedrag = {\r\n      bedrag: this.item.prijs,\r\n      teken: '-',\r\n      datum: formattedDatum\r\n    }\r\n      \r\n    this.bedragService.addBedrag(nieuwbedrag).subscribe({\r\n      next: () => {\r\n             \r\n      },\r\n      error: (error) => {\r\n        console.error('Error: ', error);\r\n      }\r\n    });\r\n\r\n    this.itemService.deleteItem(this.item!).subscribe(\r\n      (response: any) => {\r\n        this.router.navigate(['items']);\r\n    }\r\n    );\r\n  }\r\n\r\n\r\n\r\n\r\n}\r\n"],"mappings":";;;AAAA,SAASA,SAAS,QAAgB,eAAe;AACjD,SAASC,IAAI,QAAQ,eAAe;AACpC,SAASC,WAAW,QAAQ,iBAAiB;AAC7C,SAASC,cAAc,EAAUC,MAAM,QAAc,iBAAiB;AACtE,SAASC,YAAY,EAAEC,QAAQ,QAAQ,iBAAiB;AACxD,SAASC,aAAa,QAAQ,6BAA6B;AAUpD,IAAMC,mBAAmB,GAAzB,MAAMA,mBAAmB;EAM9BC,YAAoBC,WAAwB,EAAUC,KAAqB,EAAUC,MAAc,EAAUC,aAA4B,EAAUC,QAAkB;IAAjJ,KAAAJ,WAAW,GAAXA,WAAW;IAAuB,KAAAC,KAAK,GAALA,KAAK;IAA0B,KAAAC,MAAM,GAANA,MAAM;IAAkB,KAAAC,aAAa,GAAbA,aAAa;IAAyB,KAAAC,QAAQ,GAARA,QAAQ;IAL3J,KAAAb,IAAI,GAAS,IAAIA,IAAI,EAAE;IACvB,KAAAc,MAAM,GAAG,IAAIC,IAAI,EAAE;IACnB,KAAAC,cAAc,GAAY,IAAI;IAC9B,KAAAC,KAAK,GAAY,KAAK;EAEmJ;EAEzKC,QAAQA,CAAA;IACN,IAAI,CAACR,KAAK,CAACS,MAAM,CAACC,SAAS,CAAED,MAAc,IAAI;MAC7C,IAAI,CAACE,UAAU,CAACF,MAAM,CAAC,IAAI,CAAE,CAAC,CAAC,CAAC;IAClC,CAAC,CAAC;IAEF,IAAI,CAACT,KAAK,CAACY,IAAI,CAACF,SAAS,CAAEE,IAAU,IAAI;MACvC,IAAI,CAACN,cAAc,GAAGM,IAAI,CAAC,gBAAgB,CAAC;IAC9C,CAAC,CAAC;EACJ;EAEAD,UAAUA,CAACE,EAAU;IACnB,IAAI,CAACd,WAAW,CAACe,OAAO,CAACD,EAAE,CAAC,CAACH,SAAS,CAAC;MACtCK,IAAI,EAAGC,QAA0B,IAAI;QACpC,IAAIA,QAAQ,EAAE;UACZ,IAAI,CAAC1B,IAAI,GAAG0B,QAAQ;QACtB;MACA,CAAC;MACDC,KAAK,EAAGA,KAAK,IAAKC,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEF,KAAK;KACjD,CAAC;EACF;EAEAG,IAAIA,CAAA;IAEF,MAAMC,cAAc,GAAW,IAAI,CAAClB,QAAQ,CAACmB,SAAS,CAAC,IAAI,CAAClB,MAAM,EAAE,YAAY,CAAC,IAAI,EAAE;IAEvF,MAAMmB,WAAW,GAAG;MAClBC,MAAM,EAAE,IAAI,CAAClC,IAAI,CAACmC,KAAK;MACvBC,KAAK,EAAE,GAAG;MACVC,KAAK,EAAEN;KACR;IAED,IAAI,CAACnB,aAAa,CAAC0B,SAAS,CAACL,WAAW,CAAC,CAACb,SAAS,CAAC;MAClDK,IAAI,EAAEA,CAAA,KAAK,CAEX,CAAC;MACDE,KAAK,EAAGA,KAAK,IAAI;QACfC,OAAO,CAACD,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;MACjC;KACD,CAAC;IAEF,IAAI,CAAClB,WAAW,CAAC8B,UAAU,CAAC,IAAI,CAACvC,IAAK,CAAC,CAACoB,SAAS,CAC9CM,QAAa,IAAI;MAChB,IAAI,CAACf,MAAM,CAAC6B,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;IACnC,CAAC,CACA;EACH;EAAC,QAAAC,CAAA,G;;;;;;;;;;;;AArDUlC,mBAAmB,GAAAmC,UAAA,EAR/B3C,SAAS,CAAC;EACT4C,QAAQ,EAAE,iBAAiB;EAC3BC,UAAU,EAAE,IAAI;EAChBC,OAAO,EAAE,CAACzC,YAAY,CAAC;EACvB0C,QAAA,EAAAC,oBAA2C;EAE3CC,SAAS,EAAE,CAAC3C,QAAQ,CAAC;;CACtB,CAAC,C,EACWE,mBAAmB,CA0D/B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
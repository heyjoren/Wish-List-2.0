import{a as Y,c as Z,d as $,f as C,g as tt}from"./chunk-CKR3AEJD.js";import{a as it,b as rt,c as ot,d as nt}from"./chunk-74LW3V53.js";import{$a as U,F as u,Ga as a,I as p,Ia as d,Jb as q,La as A,Lb as z,M as _,Mb as G,Nb as D,Oa as V,Ob as H,P as f,Pa as F,Pb as m,Rb as J,S as I,Sb as K,T as v,Tb as Q,Ub as W,Vb as X,Wb as et,Za as L,a as S,c as y,ea as c,f as O,fa as w,h as g,hb as N,k as b,na as B,pa as R,ra as T,ta as n,ua as s,wa as E,ya as x,za as j}from"./chunk-VUSBVABX.js";var st=(()=>{let i=class i{transform(t){return!t||t.length==0?t:t.sort((e,r)=>{let l=this.getDate(e.toegevoegOp).getTime(),P=this.getDate(r.toegevoegOp).getTime();return l-P}).reverse()}getDate(t){return t&&t.toDate?t.toDate():new Date(t)}};i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=f({name:"sortItemsByDate",type:i,pure:!0,standalone:!0}),i.\u0275prov=u({token:i,factory:i.\u0275fac,providedIn:"root"});let o=i;return o})();var at=(()=>{let i=class i{constructor(t,e,r,l){this.db=t,this.storage=e,this.auth=r,this.sortItemsByDatePipe=l,this.items=[],this.ItemsUpdated=new O}getItems(){return z(J(D(this.db,"item"),W("uid","==",this.auth.getUid())),{idField:"id"})}getItemsnPut(){this.getItems().subscribe({next:t=>{this.items=t,this.ItemsUpdated.next(this.items)},error:t=>console.log("error: ",t)})}getLastItems(){return this.getItems().pipe(b(t=>this.sortItemsByDatePipe.transform(t)),b(t=>t.slice(0,5)))}getItem(t){return G(m(this.db,"item/"+t))}addItems(t,e){let r=m(this.db,"item/",e);return g(K(r,t))}deleteItem(t){let e=m(this.db,"item/"+t.id);return t.img&&(console.log("if"),this.deleteImg(t.img)),g(H(e))}updateItem(t,e){let r=m(this.db,"item/"+e);return Q(r,S({},t))}createItemId(){return m(D(this.db,"item")).id}uploadImg(t,e){return y(this,null,function*(){let r=C(this.storage,t);return yield tt(r,e),yield $(r)})}deleteImg(t){let e=C(this.storage,t),r=X(this.db);return Z(e).then(()=>{r.commit()})}};i.\u0275fac=function(e){return new(e||i)(p(q),p(Y),p(et),p(st))},i.\u0275prov=u({token:i,factory:i.\u0275fac,providedIn:"root"});let o=i;return o})();var h=class{constructor(){this.id="",this.naam="",this.prijs=0,this.beschrijving="",this.img="",this.fabrikant="",this.uid="",this.toegevoegOp=new Date}};var ct=(()=>{let i=class i{transform(t,e){if(!t)return null;let r=e||150;return t.length>r?t.substring(0,r)+"...":t}};i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=f({name:"shortDescription",type:i,pure:!0,standalone:!0});let o=i;return o})();function dt(o,i){if(o&1){let k=E();n(0,"div")(1,"button",5),x("click",function(){I(k);let e=j();return v(e.onAanpas())}),a(2,"Aanpassen"),s(),n(3,"button",6),x("click",function(){I(k);let e=j();return v(e.onDelete())}),n(4,"mat-icon",7),a(5,"delete"),s()()()}}var Ot=(()=>{let i=class i{constructor(t,e){this.itemService=t,this.router=e,this.item=new h,this.showButtons=!1,this.isSelected=!1}onDelete(){this.itemService.deleteItem(this.item).subscribe(t=>{this.router.navigate(["items"])})}onAanpas(){this.router.navigate(["items",this.item.id,"change"])}};i.\u0275fac=function(e){return new(e||i)(w(at),w(N))},i.\u0275cmp=_({type:i,selectors:[["app-show-item"]],inputs:{item:"item",showButtons:"showButtons",isSelected:"isSelected"},standalone:!0,features:[A],decls:13,vars:9,consts:[[1,"border","p-2","box"],[1,"d-flex","justify-content-between"],[1,"mb-0"],[1,"mb-0","align-self-center"],[4,"ngIf"],["id","aanpassen",3,"click"],["matTooltip","Verwijder dit item","id","verwijder",3,"click"],["mat-stroked-button",""]],template:function(e,r){e&1&&(n(0,"div",0)(1,"div",1)(2,"div")(3,"p",2),a(4),s(),n(5,"p",2),a(6),s()(),n(7,"p",3),a(8),s()(),n(9,"p",2),a(10),V(11,"shortDescription"),s(),B(12,dt,6,0,"div",4),s()),e&2&&(T("selected-item",r.isSelected),c(4),d("Naam: ",r.item.naam,""),c(2),d("Fabrikant: ",r.item.fabrikant,""),c(2),d("Prijs: \u20AC",r.item.prijs,""),c(2),d("Beschrijving: ",F(11,7,r.item.beschrijving),""),c(2),R("ngIf",r.showButtons))},dependencies:[U,L,ct,rt,it,nt,ot],styles:[".box[_ngcontent-%COMP%]{max-width:500px;margin:20px}button[_ngcontent-%COMP%]{border-radius:20px;padding:10px;border-color:#fff}button[_ngcontent-%COMP%]:nth-child(2){float:right}#verwijder[_ngcontent-%COMP%]{background-color:red}mat-icon[_ngcontent-%COMP%]{color:#000}#verwijder[_ngcontent-%COMP%]:hover{background-color:#000}#verwijder[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{color:red}#aanpassen[_ngcontent-%COMP%]{background-color:#87cefa;color:#000}#aanpassen[_ngcontent-%COMP%]:hover{background-color:#000;color:#87cefa}.selected-item[_ngcontent-%COMP%]{border-color:#3280b0!important;border-width:2px!important}"]});let o=i;return o})();export{h as a,st as b,at as c,Ot as d};
